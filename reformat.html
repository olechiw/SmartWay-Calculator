<!-- A script I used to split tags in the JSON File
They went from [Miles][Auto Carrier Trucking1] to [Miles][Auto Carrier Trucking][1]
Useful when dealing with generators to split provided CSV into JSON, as a last step-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript">
	jQuery(window).load(function () {
		jQuery.getJSON("smartway_bins.json", function (data) {
			var output = {};

			var carrierTypes = [
				"Dray Trucking",
				"Expedited Trucking",
				"Flatbed Trucking",
				"Heavy and Bulk Trucking",
				"LTL/Dry Van",
				"Mixed Trucking",
				"Moving Van Trucking",
				"Package Delivery Trucking",
				"Refrigerated Trucking",
				"Specialty Haul Trucking",
				"Tanker Trucking",
				"TL/Dry Van",
				"Logistics",
				"Multimodal",
				"Rail",
				"Barge",
				"Air-Long Haul",
				"Air-Short Haul",
				"Auto Carrier Trucking"
			];
			var freightNONOnly = [
				"Rail",
				"Barge",
				"Air-Long Haul",
				"Air-Short Haul"
			];
			var types = [
				"NON",
				"5",
				"4",
				"3",
				"2",
				"1"
			]

			jQuery.each(["Miles", "Ton-Miles"], function () {
				var units = this;
				var unitsObj = {};
				jQuery.each(carrierTypes, function () {
					var obj = {};
					if (jQuery.inArray(this, freightNONOnly) !== -1) {
						obj["NON"] = data[units][this + "NON"];
					} else {
						var type = this;
						jQuery.each(types, function () {
							obj[this] = data[units][type + this];
						});
					}
					unitsObj[this] = obj;
				});
				output[this] = unitsObj;
			});

			// Output to the screen for use
			window.document.write(JSON.stringify(output));
		});
	})
</script>